---
layout: page
title: "Авторизация Вконтакте"
subtitle: "Получение авторизационного кода"
app_id: 7275612
scope: "offline,groups,ads,stats"
bigimg:
  - "/img/VK_dogs.png" : "Гав-гав!"
comments: true
---
Чтобы получить ключ доступа (access token) к статистике сообщества (группы) и рекламного кабинета Вконтакте по API, внимательно выполните следующие действия.

### Предостережения

{: .box-warning}
**Access token дает полный доступ к аккаунту?**
Почти, поэтому не давайте его никому. На самом деле запрашиваются права {{ page.scope }}, что они означают <a href="https://vk.com/dev/permissions" title="Страница откроется в новой вкладке" target="_blank">смотрите в официальной документации по API</a>

{: .box-warning}
**Знаю ли я ваш access token?**
Нет, вы получаете его на странице Вконтакте (убедитесь в этом по адресной строке браузера). У меня нет возможности поставить свой счетчик на сайт Вконтакте. Моя аналитика фиксирует только анонимный факт перехода по ссылке. Также мне неизвестен ваш профиль, если, конечно, вы не напишете мне в личку.

{: .box-warning}
**Можно отозвать старый access token?**
Да, для этого сгенерируйте новый или смените пароль аккаунта


## Шаг 0. Залогиньтесь

Откройте Вконтакте <a href="https://vk.com/" title="Вконтакте откроется в новом окне" target="_blank">по ссылке</a> и убедитесь, что вы залогинены в нужном аккаунте Вконтакте. Пропустите этот шаг, если вы уже залогинены где нужно.


## Шаг 1. Предоставьте права доступа
Сначала разрешите приложению получать статистику ваших групп и рекламных кабинетов. Для этого пройдите по ссылке на [страницу авторизации Вконтакте](https://oauth.vk.com/authorize?client_id={{ page.app_id }}&display=popup&scope={{ page.scope }}&response_type=code&v=5.103&redirect_uri={{ site.url }}{{ page.url }}#step2). Откроется сайт Вконтакте, где нажмите кнопку "Разрешить", как показано ниже:

![Предоставление доступов Вконтакте](https://github.com/meta110/meta110.github.io/blob/master/img/vk_grant_access.png?raw=true){: .center-block :}

После чего вы вернетесь на эту страницу и перейдете к следующему шагу.

{: .box-note}
**Замечание:** если вы уже давали доступ для приложения, то сразу же вернетесь на эту страницу.



## Шаг 2. Получите постоянный токен для работы {#step2}

{: .box-note}
**Ваш код разрешений:** <span id="code"></span>

Если в поле выше вы видите временный код разрешений, то теперь с его помощью можно получить постоянный токен доступа. Для этого <a id="link2" href="javascript: void(0)" target="_blank" title="Страница Вконтакте откроется в новой вкладке">пройдите по ссылке</a> (ссылка неактивна, если код доступа не был получен).

Сохраните токен доступа (access_token), как показано на изображении:

![Сохранение токена Вконтакте](https://github.com/meta110/meta110.github.io/blob/master/img/vk_access_token.png?raw=true){: .center-block :}

{: .box-warning}
**Внимание:** Если вместо токена вы увидите предупреждение:

![Время действия кода закончилось](https://github.com/meta110/meta110.github.io/blob/master/img/vk_access_expired.png?raw=true){: .center-block :}

Это означает, что время действия кода разрешений закончилось. Перезагрузите [эту страницу по ссылке]({{ site.url }}{{ page.url }}) и попробуйте снова.

Полученный токен можно использовать для получения статистики группы и рекламного кабинета.

{% include social-share.html %}